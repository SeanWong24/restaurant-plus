{"version":3,"sources":["./src/app/menu/menu.page.html","./src/app/menu/menu-routing.module.ts","./src/app/menu/menu.module.ts","./src/app/menu/menu.page.scss","./src/app/menu/menu.page.ts"],"names":[],"mappings":"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","file":"menu-menu-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>Menu</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button (click)=\\\"goToCategoryView()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"book\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"goToMenuItemDetailView('new')\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"add\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n  <ion-searchbar showCancelButton=\\\"focus\\\" animated (ionChange)=\\\"searchContentChangedHandler($event.detail.value)\\\"></ion-searchbar>\\n</ion-header>\\n\\n<ion-content>\\n  <ion-list>\\n    <div *ngFor=\\\"let menu of displayedMenuList\\\">\\n      <ion-list-header>\\n        <ion-label>{{menu.category.name}}</ion-label>\\n      </ion-list-header>\\n      <ion-item button *ngFor=\\\"let menuItem of menu.itemList\\\" (click)=\\\"goToMenuItemDetailView(menuItem.id)\\\">\\n        <ion-row>\\n          <ion-col>\\n            <ion-label>{{menuItem.name}}</ion-label>\\n          </ion-col>\\n\\n        </ion-row>\\n        <ion-badge slot=\\\"end\\\" [color]=\\\"menuItem.status | menuItemStatusColor\\\">{{menuItem.status}}</ion-badge>\\n      </ion-item>\\n    </div>\\n  </ion-list>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { MenuPage } from './menu.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: MenuPage\n  },\n  {\n    path: 'category',\n    loadChildren: () => import('./menu-category/menu-category.module').then( m => m.MenuCategoryPageModule)\n  },\n  {\n    path: 'item',\n    loadChildren: () => import('./menu-item-detail/menu-item-detail.module').then( m => m.MenuItemDetailPageModule)\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class MenuPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { MenuPageRoutingModule } from './menu-routing.module';\n\nimport { MenuPage, MenuItemStatusColorPipe } from './menu.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    MenuPageRoutingModule\n  ],\n  declarations: [MenuPage, MenuItemStatusColorPipe]\n})\nexport class MenuPageModule {}\n","export default \"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJzcmMvYXBwL21lbnUvbWVudS5wYWdlLnNjc3MifQ== */\"","import { Component, OnInit, Pipe, PipeTransform } from '@angular/core';\nimport { MenuCategory } from '../models/menu-category';\nimport { MenuItem } from '../models/menu-item';\nimport { NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-menu',\n  templateUrl: './menu.page.html',\n  styleUrls: ['./menu.page.scss'],\n})\nexport class MenuPage implements OnInit {\n\n  menuList: {\n    category: MenuCategory,\n    itemList: MenuItem[]\n  }[] = [];\n  displayedMenuList: {\n    category: MenuCategory,\n    itemList: MenuItem[]\n  }[] = [];\n\n  constructor(private navControlor: NavController) { }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    this.fetchMenuList();\n  }\n\n  async fetchMenuList() {\n    this.menuList = [];\n    let response = await fetch(localStorage.getItem('serverApiBaseUrl') + '/menu/category');\n    const categoryList = await response.json() as MenuCategory[];\n    response = await fetch(localStorage.getItem('serverApiBaseUrl') + '/menu/item');\n    const itemList = await response.json() as MenuItem[];\n\n    categoryList.forEach(category =>\n      this.menuList.push({\n        category,\n        itemList: itemList.filter(item => item.categoryId === category.id)\n      })\n    );\n    this.menuList.push({\n      category: { name: 'Not Categorized' } as any,\n      itemList: itemList.filter(item => !categoryList.find(category => category.id === item.categoryId))\n    });\n    this.displayedMenuList = this.menuList;\n  }\n\n  searchContentChangedHandler(value: string) {\n    if (value) {\n      this.displayedMenuList = this.menuList.map(menu => (\n        {\n          category: menu.category,\n          itemList: menu.category.name.match(new RegExp(value, 'i')) ?\n            menu.itemList :\n            menu.itemList.filter(item => item.name.match(new RegExp(value, 'i')))\n        }\n      )).filter(menu => menu.category.name.match(new RegExp(value, 'i')) || menu.itemList.length > 0);\n    } else {\n      this.displayedMenuList = this.menuList;\n    }\n  }\n\n  goToCategoryView() {\n    this.navControlor.navigateForward('/menu/category');\n  }\n\n  goToMenuItemDetailView(itemId: string) {\n    this.navControlor.navigateForward('/menu/item/' + itemId);\n  }\n\n}\n\n\n@Pipe({ name: 'menuItemStatusColor' })\nexport class MenuItemStatusColorPipe implements PipeTransform {\n\n  transform(status: string): string {\n    switch (status) {\n      case 'Available':\n        return 'primary';\n      case 'Unavailable':\n        return 'danger';\n    }\n  }\n\n}"],"sourceRoot":"webpack:///"}
{"version":3,"sources":["src/app/anouncement/anouncement-modify/anouncement-modify.page.html","src/app/anouncement/anouncement-modify/anouncement-modify-routing.module.ts","src/app/anouncement/anouncement-modify/anouncement-modify.module.ts","src/app/anouncement/anouncement-modify/anouncement-modify.page.scss","src/app/anouncement/anouncement-modify/anouncement-modify.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/anouncement\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{isCreatingNewAnouncement ? 'Create New Anouncement' : 'Modify Anouncement'}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"!isCreatingNewAnouncement\\\" (click)=\\\"delete()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"save()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"upper-div\\\">\\n    <ion-input [(ngModel)]=\\\"anouncement.title\\\"></ion-input>\\n    <ion-note>{{anouncement.timeCreated}}</ion-note>\\n  </div>\\n  <div id=\\\"lower-div\\\">\\n    <textarea [(ngModel)]=\\\"anouncement.content\\\"></textarea>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AnouncementModifyPage } from './anouncement-modify.page';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: AnouncementModifyPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AnouncementModifyPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnouncementModifyPageRoutingModule } from './anouncement-modify-routing.module';\n\nimport { AnouncementModifyPage } from './anouncement-modify.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AnouncementModifyPageRoutingModule\n  ],\n  declarations: [AnouncementModifyPage]\n})\nexport class AnouncementModifyPageModule {}\n","export default \"#upper-div {\\n  height: 80px;\\n}\\n\\n#lower-div {\\n  height: calc(100% - 90px);\\n}\\n\\ntextarea {\\n  width: 100%;\\n  height: 100%;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3Jlc3RhdXJhbnQtcGx1cy1tYW5hZ2VtZW50L3Jlc3RhdXJhbnQtcGx1cy1tYW5hZ2VtZW50L3NyYy9hcHAvYW5vdW5jZW1lbnQvYW5vdW5jZW1lbnQtbW9kaWZ5L2Fub3VuY2VtZW50LW1vZGlmeS5wYWdlLnNjc3MiLCJzcmMvYXBwL2Fub3VuY2VtZW50L2Fub3VuY2VtZW50LW1vZGlmeS9hbm91bmNlbWVudC1tb2RpZnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYW5vdW5jZW1lbnQvYW5vdW5jZW1lbnQtbW9kaWZ5L2Fub3VuY2VtZW50LW1vZGlmeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdXBwZXItZGl2IHtcbiAgICBoZWlnaHQ6IDgwcHg7XG59XG5cbiNsb3dlci1kaXYge1xuICAgIGhlaWdodDogY2FsYygxMDAlIC0gOTBweCk7XG59XG5cbnRleHRhcmVhIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgY29sb3I6IGJsYWNrO1xufSIsIiN1cHBlci1kaXYge1xuICBoZWlnaHQ6IDgwcHg7XG59XG5cbiNsb3dlci1kaXYge1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDkwcHgpO1xufVxuXG50ZXh0YXJlYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { Anouncement } from 'src/app/models/anouncement';\n\n@Component({\n  selector: 'app-anouncement-modify',\n  templateUrl: './anouncement-modify.page.html',\n  styleUrls: ['./anouncement-modify.page.scss'],\n})\nexport class AnouncementModifyPage implements OnInit {\n\n  anouncement = new Anouncement();\n  isCreatingNewAnouncement = false;\n\n  constructor(private activatedRoute: ActivatedRoute, private navController: NavController, private alertController: AlertController) { }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    const anouncementId = this.activatedRoute.snapshot.paramMap.get('id');\n    if (anouncementId === 'new') {\n      this.isCreatingNewAnouncement = true;\n      this.anouncement.title = 'New Anouncement';\n    } else {\n      this.fetchAnouncement(anouncementId);\n    }\n  }\n\n  async fetchAnouncement(anouncementId: string) {\n    const response = await fetch(localStorage.getItem('serverApiBaseUrl') + '/anouncement?id=' + anouncementId);\n    this.anouncement = await response.json();\n  }\n\n  async save() {\n    if (this.anouncement.title) {\n      if (this.isCreatingNewAnouncement) {\n        this.anouncement.timeCreated = new Date().toISOString();\n        const response = await fetch(\n          localStorage.getItem('serverApiBaseUrl') + '/anouncement/add',\n          {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.anouncement)\n          }\n        );\n        if (response.ok) {\n          this.navController.navigateBack('/anouncement');\n        } else {\n          delete this.anouncement.timeCreated;\n          const alert = await this.alertController.create({\n            header: 'Fail to Create Anouncement',\n            message: 'Fail to create the anouncement, please try again.'\n          });\n          await alert.present();\n        }\n      } else {\n        const response = await fetch(\n          localStorage.getItem('serverApiBaseUrl') + '/anouncement/modify',\n          {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.anouncement)\n          }\n        );\n        if (response.ok) {\n          this.navController.navigateBack('/anouncement');\n        } else {\n          const alert = await this.alertController.create({\n            header: 'Fail to Save Anouncement',\n            message: 'Fail to save the anouncement, please try again.'\n          });\n          await alert.present();\n        }\n      }\n    } else {\n      const alert = await this.alertController.create({\n        header: 'Invalid Values',\n        message: 'There are one or more invalid values, please check and try again.'\n      });\n      await alert.present();\n    }\n  }\n\n  async delete() {\n    if (!this.isCreatingNewAnouncement) {\n      const alert = await this.alertController.create({\n        header: 'Deleting an Anouncement',\n        message: 'Are you sure to delete ' + this.anouncement.title + '?',\n        buttons: [\n          'Cancel',\n          {\n            text: \"Delete\",\n            handler: async () => {\n              const response = await fetch(\n                localStorage.getItem('serverApiBaseUrl') + '/anouncement?id=' + this.anouncement.id,\n                { method: 'DELETE' }\n              );\n              if (response.ok) {\n                this.navController.navigateBack('/anouncement');\n              }\n            }\n          }\n        ]\n      });\n      await alert.present();\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"anouncement-modify-anouncement-modify-module-es5.js"}
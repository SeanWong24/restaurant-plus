{"version":3,"sources":["./src/app/anouncement/anouncement-modify/anouncement-modify.page.html","./src/app/anouncement/anouncement-modify/anouncement-modify-routing.module.ts","./src/app/anouncement/anouncement-modify/anouncement-modify.module.ts","./src/app/anouncement/anouncement-modify/anouncement-modify.page.scss","./src/app/anouncement/anouncement-modify/anouncement-modify.page.ts"],"names":[],"mappings":"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","file":"anouncement-modify-anouncement-modify-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-back-button defaultHref=\\\"/anouncement\\\"></ion-back-button>\\n    </ion-buttons>\\n    <ion-title>{{isCreatingNewAnouncement ? 'Create New Anouncement' : 'Modify Anouncement'}}</ion-title>\\n    <ion-buttons slot=\\\"end\\\">\\n      <ion-button *ngIf=\\\"!isCreatingNewAnouncement\\\" (click)=\\\"delete()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"trash\\\"></ion-icon>\\n      </ion-button>\\n      <ion-button (click)=\\\"save()\\\">\\n        <ion-icon slot=\\\"icon-only\\\" name=\\\"save\\\"></ion-icon>\\n      </ion-button>\\n    </ion-buttons>\\n  </ion-toolbar>\\n</ion-header>\\n\\n<ion-content>\\n  <div id=\\\"upper-div\\\">\\n    <ion-input [(ngModel)]=\\\"anouncement.title\\\"></ion-input>\\n    <ion-note>{{anouncement.timeCreated}}</ion-note>\\n  </div>\\n  <div id=\\\"lower-div\\\">\\n    <textarea [(ngModel)]=\\\"anouncement.content\\\"></textarea>\\n  </div>\\n</ion-content>\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AnouncementModifyPage } from './anouncement-modify.page';\n\nconst routes: Routes = [\n  {\n    path: ':id',\n    component: AnouncementModifyPage\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AnouncementModifyPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnouncementModifyPageRoutingModule } from './anouncement-modify-routing.module';\n\nimport { AnouncementModifyPage } from './anouncement-modify.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AnouncementModifyPageRoutingModule\n  ],\n  declarations: [AnouncementModifyPage]\n})\nexport class AnouncementModifyPageModule {}\n","export default \"#upper-div {\\n  height: 80px;\\n}\\n\\n#lower-div {\\n  height: calc(100% - 90px);\\n}\\n\\ntextarea {\\n  width: 100%;\\n  height: 100%;\\n  color: black;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9ob21lL3J1bm5lci93b3JrL3Jlc3RhdXJhbnQtcGx1cy1tYW5hZ2VtZW50L3Jlc3RhdXJhbnQtcGx1cy1tYW5hZ2VtZW50L3NyYy9hcHAvYW5vdW5jZW1lbnQvYW5vdW5jZW1lbnQtbW9kaWZ5L2Fub3VuY2VtZW50LW1vZGlmeS5wYWdlLnNjc3MiLCJzcmMvYXBwL2Fub3VuY2VtZW50L2Fub3VuY2VtZW50LW1vZGlmeS9hbm91bmNlbWVudC1tb2RpZnkucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0ksWUFBQTtBQ0NKOztBREVBO0VBQ0kseUJBQUE7QUNDSjs7QURFQTtFQUNJLFdBQUE7RUFDQSxZQUFBO0VBQ0EsWUFBQTtBQ0NKIiwiZmlsZSI6InNyYy9hcHAvYW5vdW5jZW1lbnQvYW5vdW5jZW1lbnQtbW9kaWZ5L2Fub3VuY2VtZW50LW1vZGlmeS5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIjdXBwZXItZGl2IHtcbiAgICBoZWlnaHQ6IDgwcHg7XG59XG5cbiNsb3dlci1kaXYge1xuICAgIGhlaWdodDogY2FsYygxMDAlIC0gOTBweCk7XG59XG5cbnRleHRhcmVhIHtcbiAgICB3aWR0aDogMTAwJTtcbiAgICBoZWlnaHQ6IDEwMCU7XG4gICAgY29sb3I6IGJsYWNrO1xufSIsIiN1cHBlci1kaXYge1xuICBoZWlnaHQ6IDgwcHg7XG59XG5cbiNsb3dlci1kaXYge1xuICBoZWlnaHQ6IGNhbGMoMTAwJSAtIDkwcHgpO1xufVxuXG50ZXh0YXJlYSB7XG4gIHdpZHRoOiAxMDAlO1xuICBoZWlnaHQ6IDEwMCU7XG4gIGNvbG9yOiBibGFjaztcbn0iXX0= */\"","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { NavController, AlertController } from '@ionic/angular';\nimport { Anouncement } from 'src/app/models/anouncement';\n\n@Component({\n  selector: 'app-anouncement-modify',\n  templateUrl: './anouncement-modify.page.html',\n  styleUrls: ['./anouncement-modify.page.scss'],\n})\nexport class AnouncementModifyPage implements OnInit {\n\n  anouncement = new Anouncement();\n  isCreatingNewAnouncement = false;\n\n  constructor(private activatedRoute: ActivatedRoute, private navController: NavController, private alertController: AlertController) { }\n\n  ngOnInit() {\n  }\n\n  ionViewDidEnter() {\n    const anouncementId = this.activatedRoute.snapshot.paramMap.get('id');\n    if (anouncementId === 'new') {\n      this.isCreatingNewAnouncement = true;\n      this.anouncement.title = 'New Anouncement';\n    } else {\n      this.fetchAnouncement(anouncementId);\n    }\n  }\n\n  async fetchAnouncement(anouncementId: string) {\n    const response = await fetch(localStorage.getItem('serverApiBaseUrl') + '/anouncement?id=' + anouncementId);\n    this.anouncement = await response.json();\n  }\n\n  async save() {\n    if (this.anouncement.title) {\n      if (this.isCreatingNewAnouncement) {\n        this.anouncement.timeCreated = new Date().toISOString();\n        const response = await fetch(\n          localStorage.getItem('serverApiBaseUrl') + '/anouncement/add',\n          {\n            method: 'POST',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.anouncement)\n          }\n        );\n        if (response.ok) {\n          this.navController.navigateBack('/anouncement');\n        } else {\n          delete this.anouncement.timeCreated;\n          const alert = await this.alertController.create({\n            header: 'Fail to Create Anouncement',\n            message: 'Fail to create the anouncement, please try again.'\n          });\n          await alert.present();\n        }\n      } else {\n        const response = await fetch(\n          localStorage.getItem('serverApiBaseUrl') + '/anouncement/modify',\n          {\n            method: 'PUT',\n            headers: { 'Content-Type': 'application/json' },\n            body: JSON.stringify(this.anouncement)\n          }\n        );\n        if (response.ok) {\n          this.navController.navigateBack('/anouncement');\n        } else {\n          const alert = await this.alertController.create({\n            header: 'Fail to Save Anouncement',\n            message: 'Fail to save the anouncement, please try again.'\n          });\n          await alert.present();\n        }\n      }\n    } else {\n      const alert = await this.alertController.create({\n        header: 'Invalid Values',\n        message: 'There are one or more invalid values, please check and try again.'\n      });\n      await alert.present();\n    }\n  }\n\n  async delete() {\n    if (!this.isCreatingNewAnouncement) {\n      const alert = await this.alertController.create({\n        header: 'Deleting an Anouncement',\n        message: 'Are you sure to delete ' + this.anouncement.title + '?',\n        buttons: [\n          'Cancel',\n          {\n            text: \"Delete\",\n            handler: async () => {\n              const response = await fetch(\n                localStorage.getItem('serverApiBaseUrl') + '/anouncement?id=' + this.anouncement.id,\n                { method: 'DELETE' }\n              );\n              if (response.ok) {\n                this.navController.navigateBack('/anouncement');\n              }\n            }\n          }\n        ]\n      });\n      await alert.present();\n    }\n  }\n\n}\n"],"sourceRoot":"webpack:///"}